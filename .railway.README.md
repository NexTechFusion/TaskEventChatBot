# Railway Configuration Notes

## railway.json

This file configures the **backend service** for Railway deployment.

Railway deploys services **individually** (not via Docker Compose). Each service needs its own configuration:

- **Backend**: Uses `railway.json` (points to `docker/backend.Dockerfile`)
- **Frontend**: Configure separately in Railway UI (point to `docker/frontend.Dockerfile`)
- **Database**: Use Railway's managed PostgreSQL service (recommended) or deploy via Docker Compose

## Docker Compose Files

- `docker-compose.yml` - Production Docker Compose (for local Docker deployment)
- `docker/docker-compose.railway.yml` - Railway-specific Docker Compose (if Railway supports it)
- `docker/docker-compose.dev.yml` - Development with hot-reload

**Note**: Railway typically doesn't use Docker Compose files for deployment - it deploys services individually. The Docker Compose files are primarily for local development.

## To Deploy on Railway

1. Create separate services in Railway dashboard:
   - Backend service (uses `railway.json` automatically)
   - Frontend service (configure to use `docker/frontend.Dockerfile`)
   - PostgreSQL database (Railway's managed service)

2. Link services:
   - Link PostgreSQL to backend service (auto-injects connection vars)
   - Set `VITE_API_URL` in frontend to backend's Railway URL

3. Set environment variables:
   - Backend: `OPENAI_API_KEY`
   - Frontend: `VITE_API_URL`

